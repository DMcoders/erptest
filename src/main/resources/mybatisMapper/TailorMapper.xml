<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
        PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.example.erp01.mapper.TailorMapper">

    <insert id="saveTailorData" parameterType="java.util.List">
        INSERT INTO tailor(orderName,customerName,bedNumber,jarName,colorName,sizeName,partName,layerCount,packageNumber,tailorQcode) VALUES
        <foreach collection="list" item="tailor" separator=",">
          (#{tailor.orderName},#{tailor.customerName},#{tailor.bedNumber},#{tailor.jarName},#{tailor.colorName},#{tailor.sizeName},#{tailor.partName},#{tailor.layerCount},#{tailor.packageNumber},#{tailor.tailorQcode})
        </foreach>
    </insert>

    <select id="getAllTailorData" resultType="map">
        SELECT * FROM tailor
    </select>

    <select id="getAllTailorDataByOrder" resultType="map">
        SELECT * FROM tailor WHERE orderName=#{orderName}
    </select>
    <select id="getMaxBedNumber" resultType="int">
        SELECT MAX(bedNumber) FROM tailor WHERE orderName=#{orderName}
    </select>

</mapper>